<!--pages/vocab/vocab.wxml-->
<view class="vocab-container">
  <!-- Header with Search -->
  <view class="vocab-header">
    <view class="search-container">
      <input 
        class="search-input" 
        placeholder="æœç´¢è¯æ±‡..."
        value="{{searchText}}"
        bindinput="onSearchInput"
      />
      <button class="search-btn" bindtap="onSearch">ğŸ”</button>
    </view>
    <view class="stats-bar">
      <text class="stats-item">æ€»è¯æ±‡: {{totalWords}}</text>
      <text class="stats-item">å·²æŒæ¡: {{masteredWords}}</text>
      <text class="stats-item">å­¦ä¹ ä¸­: {{learningWords}}</text>
      
      <!-- å­¦ä¹ è¿›åº¦æ¡ -->
      <view class="progress-container" bindtap="goToProgressView">
        <view class="progress-header">
          <view class="progress-label">å­¦ä¹ è¿›åº¦</view>
          <text class="progress-text">{{progressPercentage}}%</text>
          <text class="progress-arrow">></text>
        </view>
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{progressPercentage + '%'}}"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- Vocabulary List -->
  <scroll-view class="vocab-list" scroll-y="true" enhanced="true">
    <view wx:if="{{vocabList.length === 0}}" class="empty-state">
      <text class="empty-icon">ğŸ“š</text>
      <text class="empty-title">è¿˜æ²¡æœ‰æ·»åŠ è¯æ±‡</text>
      <text class="empty-desc">åœ¨å¯¹è¯ä¸­é‡åˆ°ç”Ÿè¯æ—¶ä¼šè‡ªåŠ¨æ·»åŠ åˆ°è¿™é‡Œ</text>
    </view>

    <view 
      class="vocab-item" 
      wx:for="{{vocabList}}" 
      wx:key="id"
      bindtap="onVocabTap"
      data-vocab="{{item}}"
    >
      <view class="vocab-main">
        <view class="vocab-word">{{item.word}}</view>
        <view class="vocab-phonetic" wx:if="{{item.phonetic}}">{{item.phonetic}}</view>
      </view>
      <view class="vocab-meaning">{{item.translation || item.definition}}</view>
      <view class="vocab-meta">
        <text class="vocab-source">{{item.source}}</text>
        <view class="vocab-mastery {{item.isMastered ? 'mastered' : 'learning'}}">
          {{item.isMastered ? 'å·²æŒæ¡' : 'å­¦ä¹ ä¸­'}}
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- Add Button -->
  <button class="add-btn" bindtap="onAddVocab">
    <text class="add-icon">+</text>
  </button>
</view>